<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Homework1_EmilyRowen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Homework1_files/libs/clipboard/clipboard.min.js"></script>
<script src="Homework1_files/libs/quarto-html/quarto.js"></script>
<script src="Homework1_files/libs/quarto-html/popper.min.js"></script>
<script src="Homework1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Homework1_files/libs/quarto-html/anchor.min.js"></script>
<link href="Homework1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Homework1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Homework1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Homework1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Homework1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Homework1_EmilyRowen</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><span style="color:#0000FF">1. How does geographic analysis fit into your goals for your research? Given our discussion of the aims and limitations of geographic analysis, are there particular issues that you would like to know more about or guard against?</span></p>
<p>Geographic analysis would allow me to add depth to qualitative data by potentially adding spatial components to themes that arise. This could look like describing the geographic features that surround participants that might explain why certain themes are prevalent. An issue that accompanies this kind of integration is the subjectivity of qualitative data can be constrained by trying to define it spatially. I would like to know more about what “best practices” exist for integrating or connecting qualitative data with spatial representations.</p>
<p><span style="color:#0000FF">2. What are the primary components that describe spatial data?</span></p>
<p>The primary components of spatial data are an attribute (Z) observed at a location (s) within a domain of data (D) that is a subset of the possible coordinates (R<sup>d</sup>).</p>
<p><span style="color:#0000FF">3. What is the coordinate reference system and why is it important</span></p>
<p>Coordinate reference systems describe projections (how the data was translated to a flat surface) and include information such as the datum and ellipsoid. Each coordinate reference system optimizes different attributes (distance, area, angle etc.) so it is important to consider which elements might be important to preserve for your project (or vice versa-to know what you might be sacrificing by choosing one CRS over another).</p>
<p><span style="color:#0000FF">4. Find two maps of the same area in different projections? How does the projection affect your perception of the data being displayed?</span></p>
<p>I used the website below to compare an American Polyconic projection to a Bacon projection of the world. The polyconic projection seems to stretch everything along a curve except for Africa and Antarctica. Greenland appears especially small! The Bacon projection seems to stretch the continents in the Southern hemisphere so that they appear longer (north to south) than they might actually be. It is also difficult to understand how far the Pacific Ocean is between North America and Asia since these are the edges of the map and aren’t connected.\</p>
<p>&lt;https://map-projections.net/compare.php?p1=american-polyconic-global&amp;p2=bacon-global&amp;sps=1&gt;</p>
<p><span style="color:#0000FF">5. Read in the `cejst.shp` file in the `assignment01` folder. How many attributes describe each object? How many unique geometries are there? What is the coordinate reference system?</span></p>
<p>Attributes: 123</p>
<p>Unique Geometries: 6</p>
<p>CRS: WGS84</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>-- Attaching core tidyverse packages ------------------------ tidyverse 2.0.0 --
v dplyr     1.1.4     v readr     2.1.5
v forcats   1.0.0     v stringr   1.5.1
v ggplot2   3.4.4     v tibble    3.2.1
v lubridate 1.9.3     v tidyr     1.3.1
v purrr     1.0.2     
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x purrr::%||%()   masks base::%||%()
x dplyr::filter() masks stats::filter()
x dplyr::lag()    masks stats::lag()
i Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Linking to GEOS 3.11.1, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>shapefile.inR <span class="ot">&lt;-</span><span class="fu">read_sf</span>(<span class="at">dsn =</span> <span class="st">"/opt/data/data/assignment01/cejst_nw.shp"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(shapefile.inR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>sf [2,590 x 124] (S3: sf/tbl_df/tbl/data.frame)
 $ GEOID10   : chr [1:2590] "16019970700" "16025970100" "16027021700" "16027020700" ...
 $ SF        : chr [1:2590] "Idaho" "Idaho" "Idaho" "Idaho" ...
 $ CF        : chr [1:2590] "Bonneville County" "Camas County" "Canyon County" "Canyon County" ...
 $ DF_PFS    : num [1:2590] 0.44 0.67 0.74 0.48 0.75 0.8 0.76 0.72 0.76 0.52 ...
 $ AF_PFS    : num [1:2590] 0.73 0.65 0.86 0.63 0.79 0.88 0.86 0.79 0.8 0.65 ...
 $ HDF_PFS   : num [1:2590] 0.57 0.79 0.69 0.47 0.72 0.55 0.53 0.71 0.74 0.45 ...
 $ DSF_PFS   : num [1:2590] 0.53 0 0.58 0.46 0.12 0.79 0.68 0.27 0.06 0.11 ...
 $ EBF_PFS   : num [1:2590] 0.63 0.95 0.54 0.3 0.63 0.81 0.81 0.44 0.73 0.52 ...
 $ EALR_PFS  : num [1:2590] 0.55 0.83 0.63 0.63 0.65 NA 0.41 0.64 0.65 0.64 ...
 $ EBLR_PFS  : num [1:2590] 0.19 0.93 0.05 0.55 0.09 0.09 0.08 0.09 0.47 0.17 ...
 $ EPLR_PFS  : num [1:2590] 0.8 0.99 0.09 0.1 0.11 0.31 0.08 0.09 0.1 0.09 ...
 $ HBF_PFS   : num [1:2590] 0.69 0.6 0.53 0.07 0.46 0.86 0.93 0.22 0.53 0.28 ...
 $ LLEF_PFS  : num [1:2590] 0.73 0.48 0.67 0.29 0.51 0.87 0.62 0.38 0.32 0.26 ...
 $ LIF_PFS   : num [1:2590] 0.54 0.54 0.53 0.12 0.48 0.61 0.88 0.46 0.41 0.32 ...
 $ LMI_PFS   : num [1:2590] 0.81 0.75 0.61 0.25 0.55 0.92 0.95 0.44 0.42 0.35 ...
 $ PM25F_PFS : num [1:2590] 0.11 0 0.68 0.63 0.42 0.66 0.69 0.57 0.26 0.4 ...
 $ HSEF      : num [1:2590] 0.14 0.06 0.2 0.08 0.21 0.24 0.31 0.18 0.18 0.09 ...
 $ P100_PFS  : num [1:2590] 0.83 0.63 0.47 0.24 0.6 0.72 0.93 0.27 0.39 0.33 ...
 $ P200_I_PFS: num [1:2590] 0.86 0.71 0.81 0.39 0.75 0.98 0.91 0.49 0.67 0.54 ...
 $ AJDLI_ET  : int [1:2590] 1 1 1 0 1 1 1 0 1 1 ...
 $ LPF_PFS   : num [1:2590] 0.75 0.52 0.26 0.3 0.65 0.62 0.63 0.4 0.51 0.36 ...
 $ KP_PFS    : num [1:2590] 0.86 0.21 0.84 0.21 0.61 0.57 0.21 0.43 0.9 0.21 ...
 $ NPL_PFS   : num [1:2590] 0.09 0.05 0.06 0.08 0.03 0.08 0.05 0.05 0.08 0.1 ...
 $ RMP_PFS   : num [1:2590] 0.49 0.01 0.56 0.84 0.26 0.96 0.58 0.36 0.1 0.2 ...
 $ TSDF_PFS  : num [1:2590] 0.22 0.01 0.14 0.42 0.07 0.55 0.13 0.11 0.1 0.19 ...
 $ TPF       : num [1:2590] 5589 1048 11701 3901 5059 ...
 $ TF_PFS    : num [1:2590] 0.55 0.06 0.54 0.53 0.28 0.71 0.83 0.24 0.05 0.09 ...
 $ UF_PFS    : num [1:2590] 0.61 0.16 0.64 0.33 0.66 0.86 0.8 0.45 0.47 0.61 ...
 $ WF_PFS    : num [1:2590] 0.03 0.11 0.98 0.24 0.79 0.98 0.98 0.85 0.42 0.04 ...
 $ UST_PFS   : num [1:2590] 0.59 0.02 0.44 0.31 0.17 0.73 0.83 0.13 0.06 0.18 ...
 $ N_WTR     : int [1:2590] 0 0 1 0 0 1 1 0 0 0 ...
 $ N_WKFC    : int [1:2590] 0 0 0 0 0 1 1 0 0 0 ...
 $ N_CLT     : int [1:2590] 0 1 0 0 0 1 1 0 0 0 ...
 $ N_ENY     : int [1:2590] 0 1 0 0 0 0 0 0 0 0 ...
 $ N_TRN     : int [1:2590] 0 0 0 0 0 0 0 0 1 0 ...
 $ N_HSG     : int [1:2590] 0 0 0 0 0 0 1 0 1 0 ...
 $ N_PLN     : int [1:2590] 0 0 0 0 0 1 0 0 0 0 ...
 $ N_HLTH    : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ SN_C      : int [1:2590] 0 1 1 0 0 1 1 0 1 0 ...
 $ SN_T      : chr [1:2590] NA NA NA NA ...
 $ DLI       : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ ALI       : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ PLHSE     : int [1:2590] 0 0 0 0 0 0 1 0 0 0 ...
 $ LMILHSE   : int [1:2590] 0 0 0 0 0 1 1 0 0 0 ...
 $ ULHSE     : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ EPL_ET    : int [1:2590] 0 1 0 0 0 0 0 0 0 0 ...
 $ EAL_ET    : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ EBL_ET    : int [1:2590] 0 1 0 0 0 0 0 0 0 0 ...
 $ EB_ET     : int [1:2590] 0 1 0 0 0 0 0 0 0 0 ...
 $ PM25_ET   : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ DS_ET     : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ TP_ET     : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ LPP_ET    : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ HRS_ET    : chr [1:2590] NA NA NA NA ...
 $ KP_ET     : int [1:2590] 0 0 0 0 0 0 0 0 1 0 ...
 $ HB_ET     : int [1:2590] 0 0 0 0 0 0 1 0 0 0 ...
 $ RMP_ET    : int [1:2590] 0 0 0 0 0 1 0 0 0 0 ...
 $ NPL_ET    : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ TSDF_ET   : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ WD_ET     : int [1:2590] 0 0 1 0 0 1 1 0 0 0 ...
 $ UST_ET    : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ DB_ET     : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ A_ET      : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ HD_ET     : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ LLE_ET    : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ UN_ET     : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ LISO_ET   : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ POV_ET    : int [1:2590] 0 0 0 0 0 0 1 0 0 0 ...
 $ LMI_ET    : int [1:2590] 0 0 0 0 0 1 1 0 0 0 ...
 $ IA_LMI_ET : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ IA_UN_ET  : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ IA_POV_ET : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ TC        : num [1:2590] 0 3 1 0 0 4 5 0 2 0 ...
 $ CC        : num [1:2590] 0 2 1 0 0 4 4 0 2 0 ...
 $ IAULHSE   : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ IAPLHSE   : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ IALMILHSE : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ IALMIL_76 : num [1:2590] NA NA NA NA NA NA NA NA NA NA ...
 $ IAPLHS_77 : num [1:2590] NA NA NA NA NA NA NA NA NA NA ...
 $ IAULHS_78 : num [1:2590] NA NA NA NA NA NA NA NA NA NA ...
 $ LHE       : int [1:2590] 1 0 1 0 1 1 1 1 1 0 ...
 $ IALHE     : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ IAHSEF    : num [1:2590] NA NA NA NA NA NA NA NA NA NA ...
 $ N_CLT_EOMI: int [1:2590] 0 1 0 0 0 1 1 0 0 0 ...
 $ N_ENY_EOMI: int [1:2590] 0 1 0 0 0 0 0 0 0 0 ...
 $ N_TRN_EOMI: int [1:2590] 0 0 0 0 0 0 0 1 1 0 ...
 $ N_HSG_EOMI: int [1:2590] 0 0 0 0 0 0 1 0 1 0 ...
 $ N_PLN_EOMI: int [1:2590] 0 0 0 0 0 1 0 0 0 0 ...
 $ N_WTR_EOMI: int [1:2590] 0 0 1 0 0 1 1 0 0 0 ...
 $ N_HLTH_88 : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
 $ N_WKFC_89 : int [1:2590] 0 0 0 0 0 1 1 0 0 0 ...
 $ FPL200S   : int [1:2590] 1 1 1 0 1 1 1 0 1 0 ...
 $ N_WKFC_91 : int [1:2590] 1 0 1 0 1 1 1 1 1 0 ...
 $ TD_ET     : int [1:2590] 0 0 0 0 0 0 0 1 1 0 ...
 $ TD_PFS    : num [1:2590] 0.67 0.78 0.6 0.63 0.85 0.35 0.29 0.94 0.91 0.78 ...
 $ FLD_PFS   : num [1:2590] 0.83 0.88 0.43 0.24 0.82 0.93 0.97 0.44 0.49 0.71 ...
 $ WFR_PFS   : num [1:2590] 0.7 0.82 0.33 0.87 0.8 0.33 0.83 0.77 0.81 0.78 ...
 $ FLD_ET    : int [1:2590] 0 0 0 0 0 1 1 0 0 0 ...
 $ WFR_ET    : int [1:2590] 0 0 0 0 0 0 0 0 0 0 ...
  [list output truncated]
 - attr(*, "sf_column")= chr "geometry"
 - attr(*, "agr")= Factor w/ 3 levels "constant","aggregate",..: NA NA NA NA NA NA NA NA NA NA ...
  ..- attr(*, "names")= chr [1:123] "GEOID10" "SF" "CF" "DF_PFS" ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(shapefile.inR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: WGS 84 
  wkt:
GEOGCRS["WGS 84",
    DATUM["World Geodetic System 1984",
        ELLIPSOID["WGS 84",6378137,298.257223563,
            LENGTHUNIT["metre",1]]],
    PRIMEM["Greenwich",0,
        ANGLEUNIT["degree",0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS["latitude",north,
            ORDER[1],
            ANGLEUNIT["degree",0.0174532925199433]],
        AXIS["longitude",east,
            ORDER[2],
            ANGLEUNIT["degree",0.0174532925199433]],
    ID["EPSG",4326]]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(shapefile.inR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 123 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -117.0326 ymin: 43.1977 xmax: -112.0008 ymax: 43.88024
Geodetic CRS:  WGS 84
# A tibble: 6 x 124
  GEOID10    SF    CF    DF_PFS AF_PFS HDF_PFS DSF_PFS EBF_PFS EALR_PFS EBLR_PFS
  &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 160199707~ Idaho Bonn~   0.44   0.73    0.57    0.53    0.63     0.55     0.19
2 160259701~ Idaho Cama~   0.67   0.65    0.79    0       0.95     0.83     0.93
3 160270217~ Idaho Cany~   0.74   0.86    0.69    0.58    0.54     0.63     0.05
4 160270207~ Idaho Cany~   0.48   0.63    0.47    0.46    0.3      0.63     0.55
5 160270221~ Idaho Cany~   0.75   0.79    0.72    0.12    0.63     0.65     0.09
6 160270202~ Idaho Cany~   0.8    0.88    0.55    0.79    0.81    NA        0.09
# i 114 more variables: EPLR_PFS &lt;dbl&gt;, HBF_PFS &lt;dbl&gt;, LLEF_PFS &lt;dbl&gt;,
#   LIF_PFS &lt;dbl&gt;, LMI_PFS &lt;dbl&gt;, PM25F_PFS &lt;dbl&gt;, HSEF &lt;dbl&gt;, P100_PFS &lt;dbl&gt;,
#   P200_I_PFS &lt;dbl&gt;, AJDLI_ET &lt;int&gt;, LPF_PFS &lt;dbl&gt;, KP_PFS &lt;dbl&gt;,
#   NPL_PFS &lt;dbl&gt;, RMP_PFS &lt;dbl&gt;, TSDF_PFS &lt;dbl&gt;, TPF &lt;dbl&gt;, TF_PFS &lt;dbl&gt;,
#   UF_PFS &lt;dbl&gt;, WF_PFS &lt;dbl&gt;, UST_PFS &lt;dbl&gt;, N_WTR &lt;int&gt;, N_WKFC &lt;int&gt;,
#   N_CLT &lt;int&gt;, N_ENY &lt;int&gt;, N_TRN &lt;int&gt;, N_HSG &lt;int&gt;, N_PLN &lt;int&gt;,
#   N_HLTH &lt;int&gt;, SN_C &lt;int&gt;, SN_T &lt;chr&gt;, DLI &lt;int&gt;, ALI &lt;int&gt;, ...</code></pre>
</div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>